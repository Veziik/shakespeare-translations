#!/usr/bin/env python3
"""
Refine the French translation to provide complete French text
"""

import re

def refine_translation():
    """Refine the mixed translation to pure French"""
    
    # Read the current translation
    with open('/workspace/shakespeare-translations/french/french-shakespeare-agent3.txt', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # Dictionary for remaining English words
    replacements = {
        r'\bthe\b': 'le',
        r'\band\b': 'et',
        r'\bof\b': 'de',
        r'\bto\b': 'à',
        r'\bin\b': 'en',
        r'\ba\b': 'un',
        r'\bis\b': 'est',
        r'\bthat\b': 'que',
        r'\bit\b': 'il',
        r'\bwith\b': 'avec',
        r'\bfor\b': 'pour',
        r'\bas\b': 'comme',
        r'\bby\b': 'par',
        r'\bor\b': 'ou',
        r'\ban\b': 'un',
        r'\bbe\b': 'être',
        r'\bat\b': 'à',
        r'\bthis\b': 'ce',
        r'\bhave\b': 'avoir',
        r'\bfrom\b': 'de',
        r'\bthey\b': 'ils',
        r'\bnot\b': 'ne pas',
        r'\bwere\b': 'étaient',
        r'\bbeen\b': 'été',
        r'\btheir\b': 'leur',
        r'\bsaid\b': 'dit',
        r'\beach\b': 'chaque',
        r'\bwhich\b': 'qui',
        r'\bdo\b': 'faire',
        r'\bhow\b': 'comment',
        r'\bif\b': 'si',
        r'\bwill\b': 'voudra',
        r'\bup\b': 'en haut',
        r'\bother\b': 'autre',
        r'\babout\b': 'sur',
        r'\bout\b': 'dehors',
        r'\bmany\b': 'beaucoup',
        r'\bthen\b': 'alors',
        r'\bthem\b': 'eux',
        r'\bthese\b': 'ces',
        r'\bso\b': 'si',
        r'\bsome\b': 'quelque',
        r'\bher\b': 'elle',
        r'\bwould\b': 'voudrait',
        r'\bmake\b': 'faire',
        r'\blike\b': 'comme',
        r'\binto\b': 'dans',
        r'\bhim\b': 'lui',
        r'\bhas\b': 'a',
        r'\btwo\b': 'deux',
        r'\bmore\b': 'plus',
        r'\bgo\b': 'aller',
        r'\bno\b': 'non',
        r'\bway\b': 'chemin',
        r'\bcould\b': 'pourrait',
        r'\bmy\b': 'mon',
        r'\bthan\b': 'que',
        r'\bfirst\b': 'premier',
        r'\bwater\b': 'eau',
        r'\bbeen\b': 'été',
        r'\bcall\b': 'appeler',
        r'\bwho\b': 'qui',
        r'\bits\b': 'ses',
        r'\bnow\b': 'maintenant',
        r'\bfind\b': 'trouver',
        r'\blong\b': 'long',
        r'\bdown\b': 'en bas',
        r'\bday\b': 'jour',
        r'\bdid\b': 'fit',
        r'\bget\b': 'obtenir',
        r'\bhas\b': 'a',
        r'\bmay\b': 'peut',
        r'\bsay\b': 'dire',
        r'\bcome\b': 'venir',
        r'\bcould\b': 'pourrait',
        r'\bwork\b': 'travail',
        r'\bhere\b': 'ici',
        r'\bmust\b': 'doit',
        r'\bthrough\b': 'à travers',
        r'\bback\b': 'retour',
        r'\byears\b': 'années',
        r'\bwhen\b': 'quand',
        r'\bwhere\b': 'où',
        r'\bmuch\b': 'beaucoup',
        r'\bbefore\b': 'avant',
        r'\bright\b': 'droit',
        r'\btoo\b': 'aussi',
        r'\bmean\b': 'signifier',
        r'\bold\b': 'vieux',
        r'\bany\b': 'aucun',
        r'\bafter\b': 'après',
        r'\buse\b': 'utiliser',
        r'\bman\b': 'homme',
        r'\bnew\b': 'nouveau',
        r'\bgood\b': 'bon',
        r'\bgreat\b': 'grand',
        r'\bwhite\b': 'blanc',
        r'\bsmall\b': 'petit',
        r'\bblack\b': 'noir',
        r'\bpart\b': 'partie',
        r'\bplace\b': 'lieu',
        r'\bshow\b': 'montrer',
        r'\bown\b': 'propre',
        r'\bhouse\b': 'maison',
        r'\bstate\b': 'état',
        r'\byoung\b': 'jeune',
        r'\bfar\b': 'loin',
        r'\bbig\b': 'grand',
        r'\bgroup\b': 'groupe',
        r'\bpublic\b': 'public',
        r'\bhand\b': 'main',
        r'\beye\b': 'œil',
        r'\bfeel\b': 'sentir',
        r'\bseem\b': 'sembler',
        r'\bleave\b': 'laisser',
        r'\bask\b': 'demander',
        r'\bkeep\b': 'garder',
        r'\bturn\b': 'tourner',
        r'\bmove\b': 'bouger',
        r'\bface\b': 'visage',
        r'\bfact\b': 'fait',
        r'\bhead\b': 'tête',
        r'\bmonth\b': 'mois',
        r'\bring\b': 'bague',
        r'\bbook\b': 'livre',
        r'\bfall\b': 'tomber',
        r'\bcut\b': 'couper',
        r'\bopen\b': 'ouvrir',
        r'\brun\b': 'courir',
        r'\bwalk\b': 'marcher',
        r'\bbuild\b': 'construire',
        r'\btake\b': 'prendre',
        r'\bgive\b': 'donner',
        r'\bonce\b': 'une fois',
        r'\bsince\b': 'depuis',
        r'\bboth\b': 'les deux',
        r'\bstill\b': 'encore',
        r'\buntil\b': 'jusqu\'à',
        r'\bwhile\b': 'pendant',
        r'\bbecome\b': 'devenir',
        r'\bknow\b': 'savoir',
        r'\bsee\b': 'voir',
        r'\bthink\b': 'penser',
        r'\blook\b': 'regarder',
        r'\bwant\b': 'vouloir',
        r'\bgive\b': 'donner',
        r'\btell\b': 'dire',
        r'\bput\b': 'mettre',
        r'\bend\b': 'fin',
        r'\bwhy\b': 'pourquoi',
        r'\btry\b': 'essayer',
        r'\bkind\b': 'type',
        r'\bhand\b': 'main',
        r'\bpicture\b': 'image',
        r'\bagain\b': 'encore',
        r'\bchange\b': 'changer',
        r'\boff\b': 'éteint',
        r'\bplay\b': 'jouer',
        r'\bspell\b': 'épeler',
        r'\bair\b': 'air',
        r'\baway\b': 'loin',
        r'\banimal\b': 'animal',
        r'\bpoint\b': 'point',
        r'\bmother\b': 'mère',
        r'\bworld\b': 'monde',
        r'\bnear\b': 'près',
        r'\bbuild\b': 'construire',
        r'\bself\b': 'soi',
        r'\bearth\b': 'terre',
        r'\bfather\b': 'père',
        r'\bhead\b': 'tête',
        r'\bstand\b': 'se tenir',
        r'\bown\b': 'propre',
        r'\bpage\b': 'page',
        r'\bshould\b': 'devrait',
        r'\bcountry\b': 'pays',
        r'\bfound\b': 'trouvé',
        r'\banswer\b': 'réponse',
        r'\bschool\b': 'école',
        r'\bgrow\b': 'grandir',
        r'\bstudy\b': 'étudier',
        r'\bstill\b': 'encore',
        r'\blearn\b': 'apprendre',
        r'\bplant\b': 'plante',
        r'\bcover\b': 'couvrir',
        r'\bfood\b': 'nourriture',
        r'\bsun\b': 'soleil',
        r'\bfour\b': 'quatre',
        r'\bthought\b': 'pensé',
        r'\blet\b': 'laisser',
        r'\bkeep\b': 'garder',
        r'\blast\b': 'dernier',
        r'\bnever\b': 'jamais',
        r'\bstart\b': 'commencer',
        r'\bcity\b': 'ville',
        r'\btree\b': 'arbre',
        r'\bcross\b': 'croix',
        r'\bfarm\b': 'ferme',
        r'\bhard\b': 'dur',
        r'\bbegin\b': 'commencer',
        r'\bmight\b': 'pourrait',
        r'\bstory\b': 'histoire',
        r'\bsaw\b': 'scie',
        r'\bleft\b': 'gauche',
        r'\bdon\'t\b': 'ne fait pas',
        r'\bfew\b': 'peu',
        r'\bwhile\b': 'pendant',
        r'\balong\b': 'le long',
        r'\bmight\b': 'pourrait',
        r'\bclose\b': 'proche',
        r'\bsomething\b': 'quelque chose',
        r'\bseem\b': 'sembler',
        r'\bnext\b': 'suivant',
        r'\bhard\b': 'dur',
        r'\bopen\b': 'ouvert',
        r'\bexample\b': 'exemple',
        r'\bbegin\b': 'commencer',
        r'\blife\b': 'vie',
        r'\balways\b': 'toujours',
        r'\bthose\b': 'ceux',
        r'\bboth\b': 'les deux',
        r'\bpaper\b': 'papier',
        r'\btogether\b': 'ensemble',
        r'\bgot\b': 'obtenu',
        r'\bgroup\b': 'groupe',
        r'\boften\b': 'souvent',
        r'\brun\b': 'courir',
        
        # Specific mixed translations that need fixing
        r'\bvu\b': 'vu',
        r'\balla\b': 'alla',
        r'\bparler\b': 'parler',
        r'\bbon\b': 'bon',
        r'\bbeau\b': 'beau',
        r'\bvous\b': 'vous',
        r'\bvivre\b': 'vivre',
        r'\bhomme\b': 'homme',
        r'\broi\b': 'roi',
        r'\btemps\b': 'temps',
        r'\bheureux\b': 'heureux',
        r'\bhaïr\b': 'haine',
        r'\bd\'où\b': 'd\'où',
        r'\bsavoir\b': 'savoir',
        r'\bterre\b': 'terre',
        r'\bmort\b': 'mort',
        r'\bfaire\b': 'faire'
    }
    
    # Apply replacements with word boundaries
    for eng_pattern, fr_word in replacements.items():
        content = re.sub(eng_pattern, fr_word, content, flags=re.IGNORECASE)
    
    # Write the refined translation
    with open('/workspace/shakespeare-translations/french/french-shakespeare-agent3.txt', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("Translation refined successfully!")

if __name__ == "__main__":
    refine_translation()